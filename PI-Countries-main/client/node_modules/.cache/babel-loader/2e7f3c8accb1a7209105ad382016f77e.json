{"ast":null,"code":"import _objectSpread from\"C:/Users/Usuario/Desktop/PI-Coutry/PI-Countries-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var initialState={countries:[],allCountries:[],details:[],allActivities:[],activities:[]};function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"GET_COUNTRIES\":return _objectSpread(_objectSpread({},state),{},{countries:action.payload,allCountries:action.payload});case'FILTER_BY_CONTINENT':var allCountries=state.allCountries;var continentFiltered=action.payload==='All'?allCountries:allCountries.filter(function(el){return el.continent===action.payload;});return _objectSpread(_objectSpread({},state),{},{countries:continentFiltered});case'ORDER_BY_NAME':action.payload===\"asc\"?state.countries.sort(function(a,b){if(a.name>b.name){return 1;}if(b.name>a.name){return-1;}return 0;}):state.countries.sort(function(a,b){if(a.name>b.name){return-1;}if(b.name>a.name){return 1;}return 0;});return _objectSpread(_objectSpread({},state),{},{countries:state.countries});case'ORDER_BY_POPULATION':action.payload===\"min\"?state.countries.sort(function(a,b){if(a.population>b.population){return 1;}if(b.population>a.population){return-1;}return 0;}):state.countries.sort(function(a,b){if(a.population>b.population){return-1;}if(b.population>a.population){return 1;}return 0;});return _objectSpread(_objectSpread({},state),{},{countries:state.countries});case'GET_NAME_COUNTRIES':return _objectSpread(_objectSpread({},state),{},{countries:action.payload});case\"POST_ACTIVITIES\":return _objectSpread({},state);case'GET_ACTIVITIES'://console.log(action.payload)\nreturn _objectSpread(_objectSpread({},state),{},{activities:action.payload});case\"FILTER_BY_ACTIVITIES\":var countries=state.allCountries;console.log(countries,action.payload);var countriesFiltered=countries.filter(function(c){var _c$Activities;return(_c$Activities=c.Activities)===null||_c$Activities===void 0?void 0:_c$Activities.find(function(c){return c.name===action.payload;});});if(action.payload==='todas'){return _objectSpread(_objectSpread({},state),{},{countries:countries.filter(function(country){var _country$Activities;return((_country$Activities=country.Activities)===null||_country$Activities===void 0?void 0:_country$Activities.length)>0;})});}else{return _objectSpread(_objectSpread({},state),{},{countries:countriesFiltered});}case'GET_DETAILS':{return _objectSpread(_objectSpread({},state),{},{details:action.payload});}case'CLEAN_DETAILS':{return _objectSpread(_objectSpread({},state),{},{details:[]});}default:return state;}}export default rootReducer;","map":{"version":3,"names":["initialState","countries","allCountries","details","allActivities","activities","rootReducer","state","action","type","payload","continentFiltered","filter","el","continent","sort","a","b","name","population","console","log","countriesFiltered","c","Activities","find","country","length"],"sources":["C:/Users/Usuario/Desktop/PI-Coutry/PI-Countries-main/client/src/reducer/index.js"],"sourcesContent":["\r\nconst initialState = {\r\n    countries: [],\r\n    allCountries: [],\r\n    details: [],\r\n    allActivities: [],\r\n    activities: [],\r\n}\r\n\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case `GET_COUNTRIES`:\r\n            return {\r\n                ...state,\r\n                countries: action.payload,\r\n                allCountries: action.payload\r\n            }\r\n        case 'FILTER_BY_CONTINENT':\r\n            const allCountries = state.allCountries\r\n            const continentFiltered = action.payload === 'All' ? allCountries :\r\n                allCountries.filter(el => el.continent === action.payload)\r\n            return {\r\n                ...state,\r\n                countries: continentFiltered\r\n            }\r\n\r\n        case 'ORDER_BY_NAME':\r\n            action.payload === \"asc\" ? state.countries.sort(function (a, b) {\r\n                if (a.name > b.name) {\r\n                    return 1\r\n                }\r\n                if (b.name > a.name) {\r\n                    return -1\r\n                }\r\n                return 0\r\n            }) :\r\n                state.countries.sort(function (a, b) {\r\n                    if (a.name > b.name) {\r\n                        return -1\r\n                    }\r\n                    if (b.name > a.name) {\r\n                        return 1\r\n                    }\r\n                    return 0\r\n                })\r\n            return {\r\n                ...state,\r\n                countries: state.countries\r\n\r\n            }\r\n\r\n            case 'ORDER_BY_POPULATION':\r\n            action.payload === \"min\" ? state.countries.sort(function (a, b) {\r\n                if (a.population > b.population) {\r\n                    return 1\r\n                }\r\n                if (b.population > a.population) {\r\n                    return -1\r\n                }\r\n                return 0\r\n            }) :\r\n                state.countries.sort(function (a, b) {\r\n                    if (a.population > b.population) {\r\n                        return -1\r\n                    }\r\n                    if (b.population > a.population) {\r\n                        return 1\r\n                    }\r\n                    return 0\r\n                })\r\n            return {\r\n                ...state,\r\n                countries: state.countries\r\n\r\n            }\r\n\r\n        case 'GET_NAME_COUNTRIES':\r\n            return {\r\n                ...state,\r\n                countries: action.payload\r\n            }\r\n\r\n            case \"POST_ACTIVITIES\":\r\n                return {\r\n                  ...state,  //el estado me lo deja como estÃ¡, me crea una ruta nueva\r\n                };\r\n        case 'GET_ACTIVITIES':\r\n            //console.log(action.payload)\r\n            return {\r\n                ...state,\r\n                activities: action.payload,\r\n            }    \r\n\r\n        case \"FILTER_BY_ACTIVITIES\":\r\n            const countries = state.allCountries\r\n            console.log(countries,action.payload)\r\n            const countriesFiltered = countries\r\n            .filter((c) => { return c.Activities?.find((c) => { return c.name === action.payload; }); });\r\n\r\n            if (action.payload === 'todas') {\r\n                return { ...state, countries: countries.filter((country) => country.Activities?.length > 0) }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    countries: countriesFiltered\r\n                }\r\n            }  \r\n            \r\n            case 'GET_DETAILS':{\r\n                return{\r\n                    ...state,\r\n                    details:action.payload\r\n                }\r\n            }\r\n            case 'CLEAN_DETAILS':{\r\n                return{\r\n                    ...state,\r\n                    details:[]\r\n                }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}