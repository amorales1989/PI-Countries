{"ast":null,"code":"import _slicedToArray from\"C:/Users/Usuario/Desktop/PI-Coutry/PI-Countries-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{useDispatch,useSelector}from'react-redux';import{getCountries,filterCountryByContinent,getActivities,filterActivity,orderByName,orderByPopulation}from\"../actions\";import{Link}from\"react-router-dom\";import Card from'./Card';import Paginado from\"./Paginado\";import SearchBar from\"./SearchBar\";import s from\"./Card.module.css\";import st from\"./Home.module.css\";import Navbar from\"./Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var dispatch=useDispatch();var allCountries=useSelector(function(state){return state.countries;});var activities=useSelector(function(state){return state.activities;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),orden=_useState2[0],setOrden=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var countriesPerPage=10;var indexOfLastCountry=currentPage*countriesPerPage;var indexOfFirstCountry=indexOfLastCountry-countriesPerPage;var currentCountries=allCountries.slice(indexOfFirstCountry,indexOfLastCountry);var paginado=function paginado(pageNumber){setCurrentPage(pageNumber);};useEffect(function(){dispatch(getCountries());dispatch(getActivities());},[dispatch]);function handleClick(e){e.preventDefault();dispatch(getCountries());}function handleSort(e){e.preventDefault();dispatch(orderByName(e.target.value));setCurrentPage(1);setOrden(\"Ordenado \".concat(e.target.value));};function handleSortByPopulation(e){e.preventDefault();dispatch(orderByPopulation(e.target.value));setCurrentPage(1);setOrden(e.target.value);}function handleFilterContinent(e){dispatch(filterCountryByContinent(e.target.value));}function handlefilterByActivities(e){dispatch(filterActivity(e.target.value));setCurrentPage(1);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){handleClick(e);},children:\"volver a cargar todos los paises\"}),/*#__PURE__*/_jsxs(\"div\",{className:st.filtros,children:[/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handleSort(e);},children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",disable:true,selected:true,hidden:true,children:[\"\",\" ordenar\"]}),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Z-A\"})]}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handleSortByPopulation(e);},children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",disable:true,selected:true,hidden:true,children:[\"\",\" Poblacion\"]}),/*#__PURE__*/_jsx(\"option\",{value:\"min\",children:\"Menor Poblacion\"}),/*#__PURE__*/_jsx(\"option\",{value:\"max\",children:\"Mayor Poblacion\"})]}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handleFilterContinent(e);},children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",disable:true,selected:true,hidden:true,children:[\"\",\" Continentes\"]}),/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Asia\",children:\"Asia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Americas\",children:\"Am\\xE9rica\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Africa\",children:\"\\xC1frica\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Antarctic\",children:\"Antartida\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Europe\",children:\"Europa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Oceania\",children:\"Oceania\"})]}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handlefilterByActivities(e);},children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",disable:true,selected:true,hidden:true,children:[\"\",\"Actividades tur\\xEDsticas\"]}),/*#__PURE__*/_jsx(\"option\",{value:\"todas\",children:\"Todas\"}),activities.map(function(activity){return/*#__PURE__*/_jsx(\"option\",{value:activity.name,children:activity.name},activity.id);})]}),/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(Paginado,{countriesPerPage:countriesPerPage,allCountries:allCountries.length,paginado:paginado}),/*#__PURE__*/_jsx(\"div\",{className:s.cards_container,children:currentCountries===null||currentCountries===void 0?void 0:currentCountries.map(function(c){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/countries/\"+c.id,children:/*#__PURE__*/_jsx(Card,{onClick:function onClick(e){handleClick(e);},name:c.name,image:c.flag,continent:c.continent,id:c.id})})});})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","getCountries","filterCountryByContinent","getActivities","filterActivity","orderByName","orderByPopulation","Link","Card","Paginado","SearchBar","s","st","Navbar","Home","dispatch","allCountries","state","countries","activities","orden","setOrden","currentPage","setCurrentPage","countriesPerPage","indexOfLastCountry","indexOfFirstCountry","currentCountries","slice","paginado","pageNumber","handleClick","e","preventDefault","handleSort","target","value","handleSortByPopulation","handleFilterContinent","handlefilterByActivities","filtros","map","activity","name","id","length","cards_container","c","flag","continent"],"sources":["C:/Users/Usuario/Desktop/PI-Coutry/PI-Countries-main/client/src/conponents/Home.jsx"],"sourcesContent":["import React from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { getCountries, filterCountryByContinent, getActivities, filterActivity, orderByName, orderByPopulation} from \"../actions\";\r\nimport {Link} from \"react-router-dom\"\r\nimport Card from './Card'\r\nimport Paginado from \"./Paginado\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport s from \"./Card.module.css\"\r\nimport st from \"./Home.module.css\"\r\nimport Navbar from \"./Navbar\"\r\n\r\n\r\n\r\nexport default function Home(){\r\n\r\n    const dispatch = useDispatch()\r\n    const allCountries = useSelector ((state) => state.countries)\r\n    const activities = useSelector((state) => state.activities);\r\n    const [orden, setOrden]= useState('')\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const countriesPerPage = 10;\r\n    const indexOfLastCountry  = currentPage * countriesPerPage \r\n    const indexOfFirstCountry = indexOfLastCountry - countriesPerPage\r\n    const currentCountries  = allCountries.slice(indexOfFirstCountry,indexOfLastCountry)\r\n\r\n\r\n    const paginado = (pageNumber) => {\r\n        setCurrentPage(pageNumber)\r\n    }\r\n\r\n    useEffect (()=>{\r\n        dispatch(getCountries());\r\n        dispatch(getActivities());\r\n    },[dispatch])\r\n\r\n\r\n\r\n    function handleClick(e){\r\n        e.preventDefault();\r\n        dispatch(getCountries());\r\n    }\r\n\r\n    function handleSort (e){\r\n        e.preventDefault();\r\n        dispatch(orderByName(e.target.value))\r\n        setCurrentPage(1);\r\n        setOrden(`Ordenado ${e.target.value}`)\r\n        \r\n        \r\n    };\r\n    function handleSortByPopulation(e){\r\n        e.preventDefault();\r\n        dispatch(orderByPopulation(e.target.value))\r\n        setCurrentPage(1);\r\n        setOrden(e.target.value)\r\n        \r\n    }\r\n\r\n    function handleFilterContinent(e){\r\n        dispatch(filterCountryByContinent(e.target.value))\r\n    }\r\n    \r\n    function handlefilterByActivities(e){\r\n        dispatch(filterActivity(e.target.value));\r\n        setCurrentPage(1);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Navbar/>\r\n            <button onClick={e=> {handleClick(e)}}>\r\n                volver a cargar todos los paises</button>\r\n            <div className={st.filtros}>\r\n                <select onChange={e => handleSort(e)}>\r\n                <option value=\"\" disable selected hidden>\r\n                {\"\"} ordenar\r\n                </option>\r\n                    <option value= 'asc'>A-Z</option>\r\n                    <option value= 'desc'>Z-A</option>\r\n                    </select>\r\n                    <select onChange={e => handleSortByPopulation(e)}>\r\n                    <option value=\"\" disable selected hidden>\r\n                    {\"\"} Poblacion\r\n                    </option>\r\n                    <option value= 'min'>Menor Poblacion</option>\r\n                    <option value= 'max'>Mayor Poblacion</option>\r\n                    \r\n                    </select>\r\n                <select onChange={e => handleFilterContinent(e)}>\r\n                <option value=\"\" disable selected hidden>\r\n                {\"\"} Continentes\r\n                </option>\r\n                    <option value='All'>Todos</option>\r\n                    <option value='Asia'>Asia</option>\r\n                    <option value='Americas'>América</option>\r\n                    <option value='Africa'>África</option>\r\n                    <option value='Antarctic'>Antartida</option>\r\n                    <option value='Europe'>Europa</option>\r\n                    <option value='Oceania'>Oceania</option>\r\n                </select>\r\n                <select onChange={e => handlefilterByActivities(e)}>\r\n                <option value=\"\" disable selected hidden>\r\n                        {\"\"}Actividades turísticas\r\n                    </option>\r\n                    <option value=\"todas\">Todas</option>\r\n                    {activities.map((activity) => (\r\n                        <option key={activity.id} value={activity.name}>\r\n                            {activity.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                \r\n                <SearchBar />\r\n                \r\n                <Paginado\r\n                countriesPerPage={countriesPerPage}\r\n                allCountries = {allCountries.length}\r\n                paginado = {paginado}\r\n                />\r\n                <div className={s.cards_container}>\r\n                    {currentCountries?.map((c) => {\r\n                        return (\r\n                            <div>\r\n                                <Link to={\"/countries/\" + c.id}>\r\n                                    <Card onClick={e=> {handleClick(e)}} name={c.name} image={c.flag} continent={c.continent} id={c.id} />\r\n                                </Link>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n\r\n\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}